{"ast":null,"code":"var _jsxFileName = \"/Users/telmonmaluleka/learn-react-app/MVP/Cheaper-Houses-Nearby/client/src/components/MapComponent.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle, useMapEvents } from 'react-leaflet';\nimport L from 'leaflet'; // Import Leaflet library itself\n\n// Fix for default marker icon issue with bundlers like Webpack\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\n\n// --- Internal Component to Handle Map Clicks ---\nfunction LocationClickHandler({\n  setCenter\n}) {\n  _s();\n  useMapEvents({\n    click(e) {\n      console.log(\"Map clicked at:\", e.latlng);\n      setCenter(e.latlng); // Update center state in App.js via the prop\n      // Optional: Move map view smoothly - uncomment if map doesn't auto-pan\n      // map.flyTo(e.latlng, map.getZoom());\n    }\n  });\n  return null; // This component doesn't render anything itself\n}\n\n// --- Main Map Component ---\n_s(LocationClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c = LocationClickHandler;\nfunction MapComponent({\n  initialCenter,\n  // Initial map view center { lat, lng }\n  initialZoom,\n  // Initial zoom level\n  defaultAreaCenter,\n  // The actual selected center { lat, lng } or null\n  setDefaultAreaCenter,\n  // Function to set the center in App.js state\n  defaultAreaRadius,\n  // Radius in meters\n  cheaperNearbyHouses = [] // Array of house result objects\n}) {\n  const defaultAreaOptions = {\n    color: 'blue',\n    fillColor: '#3498db',\n    fillOpacity: 0.1,\n    weight: 1\n  };\n  // Custom icon example (optional)\n  // const resultIcon = new L.Icon({\n  //     iconUrl: '/path/to/your/custom-marker.png',\n  //     iconSize: [25, 41],\n  //     iconAnchor: [12, 41],\n  //     popupAnchor: [1, -34],\n  //     shadowUrl: '/path/to/your/marker-shadow.png',\n  //     shadowSize: [41, 41]\n  // });\n\n  return /*#__PURE__*/_jsxDEV(MapContainer, {\n    center: initialCenter,\n    zoom: initialZoom,\n    scrollWheelZoom: true // Enable zooming with scroll wheel\n    ,\n    className: \"leaflet-container\" // Use class for styling if needed\n    ,\n    children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n      attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(LocationClickHandler, {\n      setCenter: setDefaultAreaCenter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), defaultAreaCenter && /*#__PURE__*/_jsxDEV(Marker, {\n      position: defaultAreaCenter,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: \"Selected Default Area Center\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 18\n    }, this), defaultAreaCenter && defaultAreaRadius > 0 && /*#__PURE__*/_jsxDEV(Circle, {\n      center: defaultAreaCenter,\n      radius: defaultAreaRadius,\n      pathOptions: defaultAreaOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), cheaperNearbyHouses.map(house => {\n      var _house$price$toLocale, _house$price, _house$address;\n      return /*#__PURE__*/_jsxDEV(Marker, {\n        // Use a unique ID from your data (_id from MongoDB)\n        position: [house.location.coordinates[1], house.location.coordinates[0]] // Lat, Lng order for Leaflet\n        // icon={resultIcon} // Optional: Use a custom icon\n        ,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), \" $\", (_house$price$toLocale = (_house$price = house.price) === null || _house$price === void 0 ? void 0 : _house$price.toLocaleString()) !== null && _house$price$toLocale !== void 0 ? _house$price$toLocale : 'N/A', \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 81\n          }, this), /*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), \" \", (_house$address = house.address) !== null && _house$address !== void 0 ? _house$address : 'N/A', \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 66\n          }, this), house.bedrooms && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Beds:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 46\n            }, this), \" \", house.bedrooms, \" \"]\n          }, void 0, true), house.bathrooms && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Baths:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 47\n            }, this), \" \", house.bathrooms]\n          }, void 0, true), house.listingUrl && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 48\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: house.listingUrl,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              children: \"View Listing\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 53\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)\n      }, house._id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_c2 = MapComponent;\nexport default MapComponent;\nvar _c, _c2;\n$RefreshReg$(_c, \"LocationClickHandler\");\n$RefreshReg$(_c2, \"MapComponent\");","map":{"version":3,"names":["React","MapContainer","TileLayer","Marker","Popup","Circle","useMapEvents","L","jsxDEV","_jsxDEV","Fragment","_Fragment","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","LocationClickHandler","setCenter","_s","click","e","console","log","latlng","_c","MapComponent","initialCenter","initialZoom","defaultAreaCenter","setDefaultAreaCenter","defaultAreaRadius","cheaperNearbyHouses","defaultAreaOptions","color","fillColor","fillOpacity","weight","center","zoom","scrollWheelZoom","className","children","attribution","url","fileName","_jsxFileName","lineNumber","columnNumber","position","radius","pathOptions","map","house","_house$price$toLocale","_house$price","_house$address","location","coordinates","price","toLocaleString","address","bedrooms","bathrooms","listingUrl","href","target","rel","_id","_c2","$RefreshReg$"],"sources":["/Users/telmonmaluleka/learn-react-app/MVP/Cheaper-Houses-Nearby/client/src/components/MapComponent.js"],"sourcesContent":["import React from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, Circle, useMapEvents } from 'react-leaflet';\nimport L from 'leaflet'; // Import Leaflet library itself\n\n// Fix for default marker icon issue with bundlers like Webpack\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\n// --- Internal Component to Handle Map Clicks ---\nfunction LocationClickHandler({ setCenter }) {\n    useMapEvents({\n        click(e) {\n            console.log(\"Map clicked at:\", e.latlng);\n            setCenter(e.latlng); // Update center state in App.js via the prop\n            // Optional: Move map view smoothly - uncomment if map doesn't auto-pan\n            // map.flyTo(e.latlng, map.getZoom());\n        },\n    });\n    return null; // This component doesn't render anything itself\n}\n\n// --- Main Map Component ---\nfunction MapComponent({\n    initialCenter, // Initial map view center { lat, lng }\n    initialZoom,   // Initial zoom level\n    defaultAreaCenter, // The actual selected center { lat, lng } or null\n    setDefaultAreaCenter, // Function to set the center in App.js state\n    defaultAreaRadius, // Radius in meters\n    cheaperNearbyHouses = [], // Array of house result objects\n}) {\n\n    const defaultAreaOptions = { color: 'blue', fillColor: '#3498db', fillOpacity: 0.1, weight: 1 };\n    // Custom icon example (optional)\n    // const resultIcon = new L.Icon({\n    //     iconUrl: '/path/to/your/custom-marker.png',\n    //     iconSize: [25, 41],\n    //     iconAnchor: [12, 41],\n    //     popupAnchor: [1, -34],\n    //     shadowUrl: '/path/to/your/marker-shadow.png',\n    //     shadowSize: [41, 41]\n    // });\n\n    return (\n        <MapContainer\n            center={initialCenter}\n            zoom={initialZoom}\n            scrollWheelZoom={true} // Enable zooming with scroll wheel\n            className=\"leaflet-container\" // Use class for styling if needed\n        >\n            {/* Base Map Tiles */}\n            <TileLayer\n                attribution='© <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n\n            {/* Component to handle map clicks and update center state */}\n            <LocationClickHandler setCenter={setDefaultAreaCenter} />\n\n            {/* Marker for the selected default area center */}\n            {defaultAreaCenter && (\n                 <Marker position={defaultAreaCenter}>\n                    <Popup>Selected Default Area Center</Popup>\n                </Marker>\n            )}\n\n\n            {/* Display the selected default area circle */}\n            {defaultAreaCenter && defaultAreaRadius > 0 && (\n                <Circle\n                    center={defaultAreaCenter}\n                    radius={defaultAreaRadius}\n                    pathOptions={defaultAreaOptions}\n                />\n            )}\n\n            {/* Display markers for the cheaper nearby houses */}\n            {cheaperNearbyHouses.map((house) => (\n                <Marker\n                    key={house._id} // Use a unique ID from your data (_id from MongoDB)\n                    position={[house.location.coordinates[1], house.location.coordinates[0]]} // Lat, Lng order for Leaflet\n                    // icon={resultIcon} // Optional: Use a custom icon\n                >\n                    <Popup>\n                        <b>Price:</b> ${house.price?.toLocaleString() ?? 'N/A'} <br />\n                        <b>Address:</b> {house.address ?? 'N/A'} <br/>\n                        {house.bedrooms && <><b>Beds:</b> {house.bedrooms} </>}\n                        {house.bathrooms && <><b>Baths:</b> {house.bathrooms}</>}\n                        {house.listingUrl && <><br/><a href={house.listingUrl} target=\"_blank\" rel=\"noopener noreferrer\">View Listing</a></>}\n                    </Popup>\n                </Marker>\n            ))}\n        </MapContainer>\n    );\n}\n\nexport default MapComponent;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,YAAY,EAAEC,SAAS,EAAEC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,YAAY,QAAQ,eAAe;AAC5F,OAAOC,CAAC,MAAM,SAAS,CAAC,CAAC;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AACA,OAAOJ,CAAC,CAACK,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CR,CAAC,CAACK,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAEC,OAAO,CAAC,wCAAwC,CAAC;EAChEC,OAAO,EAAED,OAAO,CAAC,qCAAqC,CAAC;EACvDE,SAAS,EAAEF,OAAO,CAAC,uCAAuC;AAC5D,CAAC,CAAC;;AAEF;AACA,SAASG,oBAAoBA,CAAC;EAAEC;AAAU,CAAC,EAAE;EAAAC,EAAA;EACzCjB,YAAY,CAAC;IACTkB,KAAKA,CAACC,CAAC,EAAE;MACLC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEF,CAAC,CAACG,MAAM,CAAC;MACxCN,SAAS,CAACG,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC;MACrB;MACA;IACJ;EACJ,CAAC,CAAC;EACF,OAAO,IAAI,CAAC,CAAC;AACjB;;AAEA;AAAAL,EAAA,CAZSF,oBAAoB;EAAA,QACzBf,YAAY;AAAA;AAAAuB,EAAA,GADPR,oBAAoB;AAa7B,SAASS,YAAYA,CAAC;EAClBC,aAAa;EAAE;EACfC,WAAW;EAAI;EACfC,iBAAiB;EAAE;EACnBC,oBAAoB;EAAE;EACtBC,iBAAiB;EAAE;EACnBC,mBAAmB,GAAG,EAAE,CAAE;AAC9B,CAAC,EAAE;EAEC,MAAMC,kBAAkB,GAAG;IAAEC,KAAK,EAAE,MAAM;IAAEC,SAAS,EAAE,SAAS;IAAEC,WAAW,EAAE,GAAG;IAAEC,MAAM,EAAE;EAAE,CAAC;EAC/F;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,oBACIhC,OAAA,CAACR,YAAY;IACTyC,MAAM,EAAEX,aAAc;IACtBY,IAAI,EAAEX,WAAY;IAClBY,eAAe,EAAE,IAAK,CAAC;IAAA;IACvBC,SAAS,EAAC,mBAAmB,CAAC;IAAA;IAAAC,QAAA,gBAG9BrC,OAAA,CAACP,SAAS;MACN6C,WAAW,EAAC,yFAAoF;MAChGC,GAAG,EAAC;IAAoD;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC,eAGF3C,OAAA,CAACY,oBAAoB;MAACC,SAAS,EAAEY;IAAqB;MAAAe,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAGxDnB,iBAAiB,iBACbxB,OAAA,CAACN,MAAM;MAACkD,QAAQ,EAAEpB,iBAAkB;MAAAa,QAAA,eACjCrC,OAAA,CAACL,KAAK;QAAA0C,QAAA,EAAC;MAA4B;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACvC,CACX,EAIAnB,iBAAiB,IAAIE,iBAAiB,GAAG,CAAC,iBACvC1B,OAAA,CAACJ,MAAM;MACHqC,MAAM,EAAET,iBAAkB;MAC1BqB,MAAM,EAAEnB,iBAAkB;MAC1BoB,WAAW,EAAElB;IAAmB;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnC,CACJ,EAGAhB,mBAAmB,CAACoB,GAAG,CAAEC,KAAK;MAAA,IAAAC,qBAAA,EAAAC,YAAA,EAAAC,cAAA;MAAA,oBAC3BnD,OAAA,CAACN,MAAM;QACa;QAChBkD,QAAQ,EAAE,CAACI,KAAK,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAC,EAAEL,KAAK,CAACI,QAAQ,CAACC,WAAW,CAAC,CAAC,CAAC,CAAE,CAAC;QAC1E;QAAA;QAAAhB,QAAA,eAEArC,OAAA,CAACL,KAAK;UAAA0C,QAAA,gBACFrC,OAAA;YAAAqC,QAAA,EAAG;UAAM;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,MAAE,GAAAM,qBAAA,IAAAC,YAAA,GAACF,KAAK,CAACM,KAAK,cAAAJ,YAAA,uBAAXA,YAAA,CAAaK,cAAc,CAAC,CAAC,cAAAN,qBAAA,cAAAA,qBAAA,GAAI,KAAK,EAAC,GAAC,eAAAjD,OAAA;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAC9D3C,OAAA;YAAAqC,QAAA,EAAG;UAAQ;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,KAAC,GAAAQ,cAAA,GAACH,KAAK,CAACQ,OAAO,cAAAL,cAAA,cAAAA,cAAA,GAAI,KAAK,EAAC,GAAC,eAAAnD,OAAA;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,EAC7CK,KAAK,CAACS,QAAQ,iBAAIzD,OAAA,CAAAE,SAAA;YAAAmC,QAAA,gBAAErC,OAAA;cAAAqC,QAAA,EAAG;YAAK;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,KAAC,EAACK,KAAK,CAACS,QAAQ,EAAC,GAAC;UAAA,eAAE,CAAC,EACrDT,KAAK,CAACU,SAAS,iBAAI1D,OAAA,CAAAE,SAAA;YAAAmC,QAAA,gBAAErC,OAAA;cAAAqC,QAAA,EAAG;YAAM;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC,KAAC,EAACK,KAAK,CAACU,SAAS;UAAA,eAAG,CAAC,EACvDV,KAAK,CAACW,UAAU,iBAAI3D,OAAA,CAAAE,SAAA;YAAAmC,QAAA,gBAAErC,OAAA;cAAAwC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eAAA3C,OAAA;cAAG4D,IAAI,EAAEZ,KAAK,CAACW,UAAW;cAACE,MAAM,EAAC,QAAQ;cAACC,GAAG,EAAC,qBAAqB;cAAAzB,QAAA,EAAC;YAAY;cAAAG,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA,eAAE,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjH;MAAC,GAVHK,KAAK,CAACe,GAAG;QAAAvB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAWV,CAAC;IAAA,CACZ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEvB;AAACqB,GAAA,GAvEQ3C,YAAY;AAyErB,eAAeA,YAAY;AAAC,IAAAD,EAAA,EAAA4C,GAAA;AAAAC,YAAA,CAAA7C,EAAA;AAAA6C,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}